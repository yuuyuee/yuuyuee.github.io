# Hash Table

## 装载因子

给定一个能够存放$n$个元素的，具有$m$个槽位的散列表$T$的装载因子$a$等于$n$/$m$，即平均单个槽位存储元素数量。

$a = n/m$

## 散列函数

### 除法散列法 (静态散列)

通过取$k$除以$m$的余数，将关键词$k$映射到$m$个槽位中。
当使用除法散列法时，要避免$m=2^p$，一个合适的素数会是一个较好的选择。

$h(k) = k \mod m$

### 乘法散列法 (静态散列)

构造散列函数的乘法散列法包含两个步骤。

第一步，用关键词$k$乘以常数$A (0 < A < 1)$并提取$kA$的小数部分。
第二部，用$m$乘以这个值并向下取整。

乘法散列法的优点是对$m$的选择不是特别关键，一般选择$m=2^p (0 < p <= w)$。

假设计算机字长为$w$位，$A = s/2^w$，$s$为一个$0<s<2^w$的整数。先用$w$位的整数$s$乘以$k$，得到结果是$2w$位的值$r_12^w + r_0$，其中$r_0$的$p$个最高有效位即是$p$位散列值。

$h(k) = floor(m \times (k \times A - floor(k \times A))) >> (w - p)$
$h(k) = floor(m \times k \times A) and ((1 << w) - 1) >> (w - p)$
$h(k) = (k \times floor(m \times A) >> (w - p)) and ((1 << p) - 1)$

$A \approx (\sqrt{5} - 1) \div 2 \approx 0.6180339887...$

假设:

$k = 123 456, p = 14, m = 2^p = 16 384, w = 32$，

则:

$A = (\sqrt{5}-1) \div 2 =  0.6180339887$

$s = floor(A \times 2^w) = 2654435769$

$r = k \times s = 327706022297664 = (76300 \times 2^{32}) + 17612864$

$\because r = r_1 * 2^w + r_0$

$\therefore r_1 = 76300, r_0 = 17612864$

$h(k) = r_0 >> (w - p) = 76$

### 全域散列法  (随机散列)

全域散列的基本思想是在执行开始时，从一组仔细设计的函数中随机选择一个作为散列函数。

## 冲突解决方法

### 链接法

在链接法中，把散列到同一个槽中的元素放到一个链表中。

### 开放寻址法

在开放寻址法中，所有元素都存放在散列表中，因此散列表可能被填满。该方法的装载因子不会超过1.

#### 线性探查

#### 二次探查

#### 双重探查

## 完全散列
