```markdown
* 向前兼容 - 较新的代码能够读取旧代码写的数据
* 向后兼容 - 较旧的代码能够读取新代码写的数据
```

# 数据编码

## 语言特定的格式

许多编程语言都内置支持将内存中的对象编码为字节序列。例如java的```java.io.Serializable```， Ruby的```Marshal```，Python的```pickle```。

* 编码通常与特定编程语言绑定，使得另一种语言访问数据非常困难。
* 为了在相同的对象类型中恢复数据，解码过程需要能够实例化任意类，进而导致安全问题。
* 这些库主要设计目的是快速且简单地编码数据，缺乏性能和向前向后兼容性。

## 语言无关的标准格式

### 文本格式

JSON XML和CSV都是文本格式，优点是可读性。JSON XML和CSV在作为数据交换格式的场景下非常广泛，只要就格式本身达成一致，格式多么美观和高效往往不太重要，让不同组织达成格式一致的难度通常超过所有问题。

* 数字编码有很多模糊之处。XML和CSV无法区分数字和由数字组成的字符串；JSON区分字符串和数字，但不区分整数和浮点数，并且不指定精度。
* JSON和XML对Unicode字符串有很好的支持，但不支持二进制字符串。
* JSON和XML都有可选的模式支持。
* CSV没有任何模式或者说是一种模糊的模式，如果文本中出现分隔符将出现不能解析现象。

### 二进制格式

对于组织内部使用的数据，使用统一编码格式则最好。二进制格式更紧凑且解析速度更快，这对于大规模TB级数据影响很大。

# 数据流模式